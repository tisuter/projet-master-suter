<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <title>Projet Master | Activité Calculation</title>
    <script src="js/jspsych.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="plugins/jspsych-instructions.js"></script>
    <script src="plugins/jspsych-survey-text.js"></script>
    <script src="plugins/jspsych-audio-button-response.js"></script>
    <script src="common.js"></script>
    <link rel="stylesheet" href="css/jspsych.css">
    <link rel="stylesheet" href="css/jspsych-custom-styles.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body></body>

<script>
    // LEA start

    var einleitungfragen = {
        type: 'instructions',
        pages: ['<div class="">Du wirst gleich ein paar Rechnungen auf Französisch hören. Klicke jeweils auf die korrekte Lösung. Verbinde also deinen Kopfhörer. Bereit?<br><br></div>'],

        show_clickable_nav: true,
        allow_backward: false,
        button_label_next: 'On y va',
    };

    let calculations = [
        //Adjectifs adverbes conjonctions prépositions
        {type: "calc", audio: "sound/calculs/23+4+39.m4a", solution: numbers, text: "23 + 4 + 39 ="},
        {type: "calc", audio: "sound/calculs/15+27+36.m4a", solution: numbers, text: "15 + 27 + 36 ="},
        {type: "calc", audio: "sound/calculs/25+3+5.m4a", solution: numbers, text: "25 + 3 + 5 ="},
        {type: "calc", audio: "sound/calculs/9+7+37.m4a", solution: numbers, text: "9 + 7 + 37 ="},
        {type: "calc", audio: "sound/calculs/6+34+14.m4a", solution: numbers, text: "6 + 34 + 14 ="},
        {type: "calc", audio: "sound/calculs/31+38+2.m4a", solution: numbers, text: "31 + 38 + 2 ="},
        {type: "calc", audio: "sound/calculs/33+32+19.m4a", solution: numbers, text: "33 + 32 + 19 ="},
        {type: "calc", audio: "sound/calculs/3+14+19.m4a", solution: numbers, text: "3 + 14 + 19 ="},
        {type: "calc", audio: "sound/calculs/29+22+8.m4a", solution: numbers, text: "29 + 22 + 8 ="},
        {type: "calc", audio: "sound/calculs/28+39+25.m4a", solution: numbers, text: "28 + 39 + 25 ="},
        {type: "calc", audio: "sound/calculs/27+21+3.m4a", solution: numbers, text: "27 + 21 + 3 ="},
        {type: "calc", audio: "sound/calculs/26+3+8.m4a", solution: numbers, text: "26 + 3 + 8 ="},
        {type: "calc", audio: "sound/calculs/11+27+21.m4a", solution: numbers, text: "11 + 27 + 21 ="},
        {type: "calc", audio: "sound/calculs/8+33+21.m4a", solution: numbers, text: "8 + 33 + 21 ="},
        {type: "calc", audio: "sound/calculs/24+34+18.m4a", solution: numbers, text: "24 + 34 + 18 ="},
        {type: "calc", audio: "sound/calculs/31+16+20.m4a", solution: numbers, text: "31 + 16 + 20 ="},
        {type: "calc", audio: "sound/calculs/36-16.m4a", solution: numbers, text: "36 - 16 ="},
        {type: "calc", audio: "sound/calculs/55-8.m4a", solution: numbers, text: "55 - 8 ="},
        {type: "calc", audio: "sound/calculs/47-26.m4a", solution: numbers, text: "47 - 26 ="},
        {type: "calc", audio: "sound/calculs/38-21.m4a", solution: numbers, text: "38 - 21 ="},
        {type: "calc", audio: "sound/calculs/48-37.m4a", solution: numbers, text: "48 - 37 ="},
        {type: "calc", audio: "sound/calculs/10-9.m4a", solution: numbers, text: "10 - 9 ="},
        {type: "calc", audio: "sound/calculs/29-3.m4a", solution: numbers, text: "29 - 3 ="},
        {type: "calc", audio: "sound/calculs/33-2.m4a", solution: numbers, text: "33 - 2 ="},
        {type: "calc", audio: "sound/calculs/56-10.m4a", solution: numbers, text: "56 - 10 ="},
        {type: "calc", audio: "sound/calculs/60-35.m4a", solution: numbers, text: "60 - 35 ="},
        {type: "calc", audio: "sound/calculs/44-16.m4a", solution: numbers, text: "44 - 16 ="},
        {type: "calc", audio: "sound/calculs/15-8.m4a", solution: numbers, text: "15 - 8 ="},
        {type: "calc", audio: "sound/calculs/60-22.m4a", solution: numbers, text: "60 - 22 ="},
        {type: "calc", audio: "sound/calculs/62-24.m4a", solution: numbers, text: "62 - 24 ="},
        {type: "calc", audio: "sound/calculs/40-20.m4a", solution: numbers, text: "40 - 20 ="},
        {type: "calc", audio: "sound/calculs/61-12.m4a", solution: numbers, text: "61 - 12 ="},
        {type: "calc", audio: "sound/calculs/18x2.m4a", solution: numbers, text: "18 x 2 ="},
        {type: "calc", audio: "sound/calculs/7x5.m4a", solution: numbers, text: "7 x 5 ="},
        {type: "calc", audio: "sound/calculs/16x4.m4a", solution: numbers, text: "16 x 4 ="},
        {type: "calc", audio: "sound/calculs/4x4.m4a", solution: numbers, text: "4 x 4 ="},
        {type: "calc", audio: "sound/calculs/4x17.m4a", solution: numbers, text: "4 x 17 ="},
        {type: "calc", audio: "sound/calculs/13x2.m4a", solution: numbers, text: "13 x 2 ="},
        {type: "calc", audio: "sound/calculs/12x8.m4a", solution: numbers, text: "12 x 8 ="},
        {type: "calc", audio: "sound/calculs/4x9.m4a", solution: numbers, text: "4 x 9 ="},
        {type: "calc", audio: "sound/calculs/1x7.m4a", solution: numbers, text: "1 x 7 ="},
        {type: "calc", audio: "sound/calculs/20x2.m4a", solution: numbers, text: "20 x 2 ="},
        {type: "calc", audio: "sound/calculs/10x9.m4a", solution: numbers, text: "10 x 9 ="},
        {type: "calc", audio: "sound/calculs/3x11.m4a", solution: numbers, text: "3 x 11 ="},
        {type: "calc", audio: "sound/calculs/9x7.m4a", solution: numbers, text: "9 x 7 ="},
        {type: "calc", audio: "sound/calculs/6x16.m4a", solution: numbers, text: "6 x 16 ="},
        {type: "calc", audio: "sound/calculs/7x6.m4a", solution: numbers, text: "7 x 6 ="},
        {type: "calc", audio: "sound/calculs/19x5.m4a", solution: numbers, text: "19 x 5 ="},
        {type: "calc", audio: "sound/calculs/14_7.m4a", solution: numbers, text: "14 : 7 ="},
        {type: "calc", audio: "sound/calculs/24_6.m4a", solution: numbers, text: "24 : 6 ="},
        {type: "calc", audio: "sound/calculs/45_5.m4a", solution: numbers, text: "45 : 5 ="},
        {type: "calc", audio: "sound/calculs/39_3.m4a", solution: numbers, text: "39 : 3 ="},
        {type: "calc", audio: "sound/calculs/64_8.m4a", solution: numbers, text: "64 : 8 ="},
        {type: "calc", audio: "sound/calculs/90_6.m4a", solution: numbers, text: "90 : 6 ="},
        {type: "calc", audio: "sound/calculs/76_4.m4a", solution: numbers, text: "76 : 4 ="},
        {type: "calc", audio: "sound/calculs/99_9.m4a", solution: numbers, text: "99 : 9 ="},
        {type: "calc", audio: "sound/calculs/63_9.m4a", solution: numbers, text: "63 : 9 ="},
        {type: "calc", audio: "sound/calculs/81_9.m4a", solution: numbers, text: "81 : 9 ="},
        {type: "calc", audio: "sound/calculs/42_3.m4a", solution: numbers, text: "42 : 3 ="},
        {type: "calc", audio: "sound/calculs/96_6.m4a", solution: numbers, text: "96 : 6 ="},
        {type: "calc", audio: "sound/calculs/68_4.m4a", solution: numbers, text: "68 : 4 ="},
        {type: "calc", audio: "sound/calculs/42_6.m4a", solution: numbers, text: "42 : 6 ="},
		{type: "calc", audio: "sound/calculs/56_8.m4a", solution: numbers, text: "56 : 8 ="},
        {type: "calc", audio: "sound/calculs/85_5.m4a", solution: numbers, text: "85 : 5 ="}
        ];
    const calculationsPreload = calculations.map(item => {
        return item.audio;
    });


    var audioInstructions = {
        timeline: [{
            type: 'audio-button-response',
            stimulus: function () {
                return jsPsych.timelineVariable('audio', true);
            },
            prompt: function () {
                return '<h1>' + jsPsych.timelineVariable('text', true) + '</h1>' +
                    'Klicke auf die richtige Lösung.<br><br>';
            },
            choices: function () {
                return jsPsych.timelineVariable('solution', true);
            },
            response_allowed_while_playing: responseAllowedWhilePlaying
        }],
        timeline_variables: shuffle([...calculations]).slice(0,16),
        randomize_order: true
    };

    // LEA ENDE
    jsPsych.init({
        //LEA START
        preload_audio: calculationsPreload,
        timeline: [einleitung, nameklasse, einleitungfragen, audioInstructions],
        //LEA ENDE
        on_finish: function () {
            sendData("Act_calc", jsPsych.data.get().json(true));
            jsPsych.data.displayData();
            showBackLink();
        }
    });


</script>
</html>
